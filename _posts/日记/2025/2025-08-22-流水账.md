---
layout: post
title: 日记
date: 2025-08-22 18:11 +0800
description: 写写这一个月的情况。
category: [日记,流水账]
tags: [日记2025]
author: tangyu
pin: true
math: true
mermaid: true
published: true
---

qt项目做完了，用的是qt5，全国产化平台，有很多不太兼容，但都还好。重点就是在后期的性能优化上。这方面下了很多功夫。
包括

1. 锁优化，将锁从for里面放到外面。避免频繁加锁释放锁。
2. for循环优化：foreach没有fori快。
3. switch、ifelse优化：gcc编译器下，switch没有ifelse分支快。
4. 图像Qpainter优化，国产的显卡对opengl支持不够，越用越卡，我采用了qpixmap缓存静态图和降低绘制计算复杂度来优（复杂的sin、cos计算改为加减计算）。
5. 数据结构优化：将qlist之类的查找需要n的时间复杂度，改为set或hash，就降低到1的时间复杂度。



马上要开学了，赶快去找地方玩玩。

